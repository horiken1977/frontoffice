<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ©Ÿèƒ½è¨­è¨ˆæ›¸ - ãƒ•ãƒ­ãƒ³ãƒˆã‚ªãƒ•ã‚£ã‚¹ç”Ÿç”£æ€§å‘ä¸Šã‚¢ãƒ—ãƒª</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="progress-sync.js"></script>
    <style>
        .feature-card {
            transition: all 0.3s ease;
        }
        .feature-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
    <nav class="bg-white shadow-sm border-b">
        <div class="container mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <h1 class="text-xl font-bold text-gray-800">ãƒ•ãƒ­ãƒ³ãƒˆã‚ªãƒ•ã‚£ã‚¹ç”Ÿç”£æ€§å‘ä¸Šã‚¢ãƒ—ãƒª</h1>
                <div class="space-x-4">
                    <a href="index.html" class="text-blue-600 hover:text-blue-800 font-medium">é€²æ—ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</a>
                    <a href="plan.html" class="text-blue-600 hover:text-blue-800 font-medium">é–‹ç™ºè¨ˆç”»æ›¸</a>
                    <a href="feature-design.html" class="text-gray-800 font-medium border-b-2 border-blue-600">æ©Ÿèƒ½è¨­è¨ˆæ›¸</a>
                    <a href="test-specification.html" class="text-blue-600 hover:text-blue-800 font-medium">ãƒ†ã‚¹ãƒˆä»•æ§˜æ›¸</a>
                    <a href="progress-admin.html" class="text-blue-600 hover:text-blue-800 font-medium">é€²æ—ç®¡ç†</a>
                </div>
            </div>
        </div>
    </nav>

    <div class="container mx-auto px-4 py-8">
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <header class="mb-8">
            <h1 class="text-4xl font-bold text-gray-800 mb-2">æ©Ÿèƒ½è¨­è¨ˆæ›¸</h1>
            <p class="text-xl text-gray-600 mb-4">æ–°æ©Ÿèƒ½è¿½åŠ ã¨ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«é–‹ç™ºç®¡ç†</p>
            <div class="flex items-center space-x-4">
                <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">ã‚¢ã‚¯ãƒ†ã‚£ãƒ–æ©Ÿèƒ½ç®¡ç†</span>
                <span class="text-gray-500 text-sm">æœ€çµ‚æ›´æ–°: <span id="last-updated">2025-01-07</span></span>
            </div>
        </header>

        <!-- æ–°æ©Ÿèƒ½è¿½åŠ ãƒ‘ãƒãƒ« -->
        <div class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">ğŸ†• æ–°æ©Ÿèƒ½è¿½åŠ </h2>
            <div class="grid md:grid-cols-2 gap-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">æ©Ÿèƒ½å</label>
                    <input type="text" id="new-feature-name" placeholder="ä¾‹: ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ©Ÿèƒ½" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">å¯¾è±¡ãƒ•ã‚§ãƒ¼ã‚º</label>
                    <select id="new-feature-phase" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="phase-2">Phase 2: ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºçµ±åˆ</option>
                        <option value="phase-3">Phase 3: ã‚«ã‚¹ã‚¿ãƒ é–‹ç™º</option>
                        <option value="phase-1">Phase 1: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼çµ±åˆï¼ˆè¿½åŠ æ©Ÿèƒ½ï¼‰</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">ã‚«ãƒ†ã‚´ãƒª</label>
                    <select id="new-feature-category" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£">ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£</option>
                        <option value="UI/UX">UI/UX</option>
                        <option value="ãƒ‡ãƒ¼ã‚¿çµ±åˆ">ãƒ‡ãƒ¼ã‚¿çµ±åˆ</option>
                        <option value="å¤–éƒ¨çµ±åˆ">å¤–éƒ¨çµ±åˆ</option>
                        <option value="è‡ªå‹•åŒ–">è‡ªå‹•åŒ–</option>
                        <option value="æ©Ÿèƒ½">æ©Ÿèƒ½</option>
                        <option value="å“è³ªå‘ä¸Š">å“è³ªå‘ä¸Š</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">å„ªå…ˆåº¦</label>
                    <select id="new-feature-priority" class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <option value="high">é«˜</option>
                        <option value="medium">ä¸­</option>
                        <option value="low">ä½</option>
                    </select>
                </div>
                <div class="md:col-span-2">
                    <label class="block text-sm font-medium text-gray-700 mb-2">æ©Ÿèƒ½èª¬æ˜</label>
                    <textarea id="new-feature-description" rows="3" placeholder="æ©Ÿèƒ½ã®è©³ç´°èª¬æ˜ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„..." class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                </div>
                <div class="md:col-span-2">
                    <button onclick="addNewFeature()" class="bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg font-medium transition-colors">
                        âœ… æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¦ãƒ†ã‚¹ãƒˆä»•æ§˜æ›¸ã‚’è‡ªå‹•ç”Ÿæˆ
                    </button>
                </div>
            </div>
        </div>

        <!-- æ©Ÿèƒ½ä¸€è¦§ -->
        <div class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“‹ ç¾åœ¨ã®æ©Ÿèƒ½ä¸€è¦§</h2>
            <div id="current-features" class="space-y-4">
                <!-- å‹•çš„ã«ç”Ÿæˆã•ã‚Œã‚‹ -->
            </div>
        </div>

        <!-- æ©Ÿèƒ½è©³ç´°è¨­è¨ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ -->
        <div class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">ğŸ“ æ©Ÿèƒ½è©³ç´°è¨­è¨ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ</h2>
            <div class="bg-gray-50 rounded-lg p-4">
                <h3 class="font-semibold mb-3">æ–°æ©Ÿèƒ½è¿½åŠ æ™‚ã®è‡ªå‹•ç”Ÿæˆå†…å®¹</h3>
                <ul class="space-y-2 text-sm text-gray-700">
                    <li>âœ… <strong>é€²æ—ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ›´æ–°:</strong> project-progress.jsonã«æ–°æ©Ÿèƒ½ã‚’è‡ªå‹•è¿½åŠ </li>
                    <li>âœ… <strong>ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ç”Ÿæˆ:</strong> æ©Ÿèƒ½ã®ç‰¹æ€§ã«å¿œã˜ãŸãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ</li>
                    <li>âœ… <strong>é–‹ç™ºè¨ˆç”»æ›¸æ›´æ–°:</strong> å¯¾è±¡ãƒ•ã‚§ãƒ¼ã‚ºã«æ©Ÿèƒ½ã‚’è‡ªå‹•è¿½åŠ </li>
                    <li>âœ… <strong>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰åŒæœŸ:</strong> é€²æ—è¿½è·¡ã®è‡ªå‹•åæ˜ </li>
                    <li>âœ… <strong>å®Ÿè£…ã‚¬ã‚¤ãƒ‰ç”Ÿæˆ:</strong> æ©Ÿèƒ½å®Ÿè£…æ™‚ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆä½œæˆ</li>
                </ul>
            </div>
        </div>

        <!-- ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ -->
        <div class="bg-white rounded-lg shadow-md p-6">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">ğŸ”„ ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼</h2>
            <div class="grid md:grid-cols-3 gap-6">
                <div class="text-center">
                    <div class="bg-blue-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-3">
                        <span class="text-blue-600 text-2xl">1</span>
                    </div>
                    <h3 class="font-semibold text-gray-800 mb-2">æ©Ÿèƒ½è¨­è¨ˆ</h3>
                    <p class="text-sm text-gray-600">æ©Ÿèƒ½è¨­è¨ˆæ›¸ã§æ–°æ©Ÿèƒ½ã‚’å®šç¾©ãƒ»è¿½åŠ </p>
                </div>
                <div class="text-center">
                    <div class="bg-green-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-3">
                        <span class="text-green-600 text-2xl">2</span>
                    </div>
                    <h3 class="font-semibold text-gray-800 mb-2">è‡ªå‹•æ›´æ–°</h3>
                    <p class="text-sm text-gray-600">ãƒ†ã‚¹ãƒˆä»•æ§˜æ›¸ãƒ»é€²æ—ç®¡ç†ã®è‡ªå‹•åŒæœŸ</p>
                </div>
                <div class="text-center">
                    <div class="bg-purple-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-3">
                        <span class="text-purple-600 text-2xl">3</span>
                    </div>
                    <h3 class="font-semibold text-gray-800 mb-2">é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆ</h3>
                    <p class="text-sm text-gray-600">å®Ÿè£…å¾Œã€é€²æ—ç®¡ç†ã§å®Œäº†ãƒãƒ¼ã‚¯</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        class FeatureDesignManager {
            constructor() {
                this.progressData = null;
                this.init();
            }

            async init() {
                if (window.progressSync) {
                    await window.progressSync.loadProgressData();
                    this.progressData = window.progressSync.progressData;
                    this.renderCurrentFeatures();
                }
            }

            renderCurrentFeatures() {
                const container = document.getElementById('current-features');
                if (!this.progressData) return;

                const featuresByPhase = this.progressData.features.reduce((acc, feature) => {
                    if (!acc[feature.phase]) acc[feature.phase] = [];
                    acc[feature.phase].push(feature);
                    return acc;
                }, {});

                container.innerHTML = Object.entries(featuresByPhase).map(([phase, features]) => `
                    <div class="border rounded-lg p-4">
                        <h3 class="font-semibold text-gray-800 mb-3">${this.getPhaseDisplayName(phase)}</h3>
                        <div class="grid gap-3">
                            ${features.map(feature => this.renderFeatureCard(feature)).join('')}
                        </div>
                    </div>
                `).join('');
            }

            renderFeatureCard(feature) {
                const statusColors = {
                    'completed': 'green',
                    'in_progress': 'blue',
                    'pending': 'gray'
                };
                const color = statusColors[feature.status] || 'gray';

                return `
                <div class="feature-card p-3 border rounded-lg bg-${color}-50 hover:bg-${color}-100">
                    <div class="flex items-center justify-between">
                        <div>
                            <h4 class="font-medium text-${color}-800">${feature.name}</h4>
                            <p class="text-sm text-${color}-600">${feature.description}</p>
                            <div class="flex items-center space-x-2 mt-2">
                                <span class="text-xs bg-${color}-200 text-${color}-800 px-2 py-1 rounded">${feature.category}</span>
                                <span class="text-xs text-${color}-600">å„ªå…ˆåº¦: ${this.getPriorityLabel(feature.priority)}</span>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-lg font-bold text-${color}-700">${feature.progress}%</div>
                            <div class="text-xs text-${color}-600">${this.getStatusLabel(feature.status)}</div>
                            <button onclick="editFeature('${feature.id}')" class="mt-1 text-xs bg-${color}-200 hover:bg-${color}-300 text-${color}-800 px-2 py-1 rounded">
                                ç·¨é›†
                            </button>
                        </div>
                    </div>
                </div>
                `;
            }

            getPhaseDisplayName(phaseId) {
                const phase = this.progressData.phases.find(p => p.id === phaseId);
                return phase ? phase.name : phaseId;
            }

            getPriorityLabel(priority) {
                const labels = { 'high': 'é«˜', 'medium': 'ä¸­', 'low': 'ä½' };
                return labels[priority] || priority;
            }

            getStatusLabel(status) {
                const labels = { 'completed': 'å®Œäº†', 'in_progress': 'é€²è¡Œä¸­', 'pending': 'æœªå®Ÿè£…' };
                return labels[status] || status;
            }

            addNewFeature(featureData) {
                if (!this.progressData) return false;

                // æ–°æ©Ÿèƒ½ã‚’progressDataã«è¿½åŠ 
                const newFeature = {
                    id: this.generateFeatureId(featureData.name),
                    name: featureData.name,
                    phase: featureData.phase,
                    category: featureData.category,
                    status: 'pending',
                    progress: 0,
                    priority: featureData.priority,
                    description: featureData.description,
                    createdAt: new Date().toISOString(),
                    testCases: this.generateTestCases(featureData)
                };

                this.progressData.features.push(newFeature);
                
                // è‡ªå‹•ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ç”Ÿæˆ
                this.generateTestSpecification(newFeature);
                
                // é€²æ—ãƒ‡ãƒ¼ã‚¿æ›´æ–°
                this.progressData.project.lastUpdated = new Date().toISOString().split('T')[0];
                
                return newFeature;
            }

            generateFeatureId(name) {
                return name.toLowerCase()
                    .replace(/[^\w\s]/g, '')
                    .replace(/\s+/g, '-')
                    .substring(0, 20);
            }

            generateTestCases(featureData) {
                const testCases = [];
                const baseId = this.generateFeatureId(featureData.name);

                // ã‚«ãƒ†ã‚´ãƒªåˆ¥ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
                const testTemplates = {
                    'ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£': [
                        'èªè¨¼æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ',
                        'æ¨©é™ãƒã‚§ãƒƒã‚¯ãƒ†ã‚¹ãƒˆ', 
                        'ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§ãƒ†ã‚¹ãƒˆ'
                    ],
                    'UI/UX': [
                        'ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆ',
                        'ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆ',
                        'ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ãƒ†ã‚¹ãƒˆ'
                    ],
                    'ãƒ‡ãƒ¼ã‚¿çµ±åˆ': [
                        'ãƒ‡ãƒ¼ã‚¿æ¥ç¶šãƒ†ã‚¹ãƒˆ',
                        'ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ãƒ†ã‚¹ãƒˆ',
                        'ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ'
                    ],
                    'å¤–éƒ¨çµ±åˆ': [
                        'APIçµ±åˆãƒ†ã‚¹ãƒˆ',
                        'ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆ',
                        'ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãƒ†ã‚¹ãƒˆ'
                    ],
                    'è‡ªå‹•åŒ–': [
                        'ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Ÿè¡Œãƒ†ã‚¹ãƒˆ',
                        'ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ',
                        'ã‚¨ãƒ©ãƒ¼å›å¾©ãƒ†ã‚¹ãƒˆ'
                    ],
                    'æ©Ÿèƒ½': [
                        'åŸºæœ¬æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ',
                        'ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆ',
                        'çµ±åˆãƒ†ã‚¹ãƒˆ'
                    ]
                };

                const templates = testTemplates[featureData.category] || testTemplates['æ©Ÿèƒ½'];
                
                templates.forEach((template, index) => {
                    testCases.push({
                        id: `${baseId}-tc${String(index + 1).padStart(3, '0')}`,
                        name: `${featureData.name} - ${template}`,
                        description: `${featureData.name}ã®${template}`,
                        status: 'pending',
                        priority: featureData.priority,
                        steps: this.generateTestSteps(template, featureData),
                        expectedResult: `${template}ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹`
                    });
                });

                return testCases;
            }

            generateTestSteps(testType, featureData) {
                const stepTemplates = {
                    'èªè¨¼æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ': [
                        '1. ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã«ã‚¢ã‚¯ã‚»ã‚¹',
                        '2. æœ‰åŠ¹ãªèªè¨¼æƒ…å ±ã§ãƒ­ã‚°ã‚¤ãƒ³è©¦è¡Œ',
                        '3. èªè¨¼æˆåŠŸã®ç¢ºèª'
                    ],
                    'ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆ': [
                        '1. æ©Ÿèƒ½ç”»é¢ã«ã‚¢ã‚¯ã‚»ã‚¹',
                        '2. UIè¦ç´ ã®è¡¨ç¤ºç¢ºèª',
                        '3. æ“ä½œæ€§ã®ç¢ºèª'
                    ],
                    'ãƒ‡ãƒ¼ã‚¿æ¥ç¶šãƒ†ã‚¹ãƒˆ': [
                        '1. ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã¸ã®æ¥ç¶šè©¦è¡Œ',
                        '2. ãƒ‡ãƒ¼ã‚¿å–å¾—ã®ç¢ºèª',
                        '3. ãƒ‡ãƒ¼ã‚¿å½¢å¼ã®æ¤œè¨¼'
                    ],
                    'åŸºæœ¬æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆ': [
                        '1. æ©Ÿèƒ½ã‚’æœ‰åŠ¹åŒ–',
                        '2. åŸºæœ¬æ“ä½œã‚’å®Ÿè¡Œ',
                        '3. æœŸå¾…çµæœã®ç¢ºèª'
                    ]
                };

                return stepTemplates[testType] || [
                    '1. æ©Ÿèƒ½ã«ã‚¢ã‚¯ã‚»ã‚¹',
                    '2. åŸºæœ¬æ“ä½œã‚’å®Ÿè¡Œ',
                    '3. çµæœã‚’ç¢ºèª'
                ];
            }

            generateTestSpecification(feature) {
                // ãƒ†ã‚¹ãƒˆä»•æ§˜æ›¸ã«æ–°ã—ã„ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è¿½åŠ 
                console.log(`ğŸ“‹ ${feature.name} ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’ç”Ÿæˆã—ã¾ã—ãŸ:`, feature.testCases);
                
                // å®Ÿéš›ã®å®Ÿè£…ã§ã¯ã€test-specification.htmlã‚’å‹•çš„æ›´æ–°
                this.updateTestSpecificationFile(feature);
            }

            updateTestSpecificationFile(feature) {
                // ãƒ†ã‚¹ãƒˆä»•æ§˜æ›¸ã®è‡ªå‹•æ›´æ–°ãƒ­ã‚¸ãƒƒã‚¯
                console.log(`ğŸ”„ ãƒ†ã‚¹ãƒˆä»•æ§˜æ›¸ã‚’æ›´æ–°ä¸­: ${feature.name}`);
                
                // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹åŒæœŸã‚·ã‚¹ãƒ†ãƒ ã«é€šçŸ¥
                if (window.progressSync) {
                    window.progressSync.syncAllPages();
                }
            }
        }

        // ã‚°ãƒ­ãƒ¼ãƒãƒ«é–¢æ•°
        function addNewFeature() {
            const name = document.getElementById('new-feature-name').value.trim();
            const phase = document.getElementById('new-feature-phase').value;
            const category = document.getElementById('new-feature-category').value;
            const priority = document.getElementById('new-feature-priority').value;
            const description = document.getElementById('new-feature-description').value.trim();

            if (!name || !description) {
                alert('æ©Ÿèƒ½åã¨èª¬æ˜ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }

            const featureData = { name, phase, category, priority, description };
            
            if (window.featureDesign) {
                const newFeature = window.featureDesign.addNewFeature(featureData);
                if (newFeature) {
                    alert(`âœ… æ©Ÿèƒ½ã€Œ${name}ã€ã‚’è¿½åŠ ã—ã¾ã—ãŸ\n\nè‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹: ${newFeature.testCases.length}ä»¶\n\né€²æ—ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã«åŒæœŸã•ã‚Œã¾ã—ãŸã€‚`);
                    
                    // ãƒ•ã‚©ãƒ¼ãƒ ã‚’ã‚¯ãƒªã‚¢
                    document.getElementById('new-feature-name').value = '';
                    document.getElementById('new-feature-description').value = '';
                    
                    // æ©Ÿèƒ½ä¸€è¦§ã‚’æ›´æ–°
                    window.featureDesign.renderCurrentFeatures();
                    
                    // æœ€çµ‚æ›´æ–°æ—¥ã‚’æ›´æ–°
                    document.getElementById('last-updated').textContent = new Date().toISOString().split('T')[0];
                }
            }
        }

        function editFeature(featureId) {
            alert(`æ©Ÿèƒ½ç·¨é›†æ©Ÿèƒ½ã¯æ¬¡å›ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§å®Ÿè£…äºˆå®šã§ã™ã€‚\næ©Ÿèƒ½ID: ${featureId}`);
        }

        // åˆæœŸåŒ–
        let featureDesign;
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                featureDesign = new FeatureDesignManager();
                window.featureDesign = featureDesign;
            }, 200);
        });
    </script>
</body>
</html>